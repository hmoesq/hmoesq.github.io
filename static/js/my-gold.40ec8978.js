(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["my-gold"],{"04a4":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniPopup:i("a0e6").default,uniPopupDialog:i("6139").default,uniLink:i("64f1").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"gold-top b2mg"},[i("v-uni-view",{staticClass:"fs12 gray dhdesc"},[i("v-uni-text",[t._v("1元可以兑换1"+t._s(t.opt.money_name))])],1),i("v-uni-view",{staticClass:"money-box"},[i("v-uni-view",[i("v-uni-view",{staticClass:"fs13 bold-light gray"},[t._v(t._s(t.opt.money_name))]),i("v-uni-view",[t._v(t._s(t.symbol+t.userData.money))])],1),i("v-uni-view",{staticClass:"flex-center"},[t.card.url&&"#"!=t.card.url?i("v-uni-button",{staticClass:"empty button",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cardOpen.apply(void 0,arguments)}}},[t._v("兑换"+t._s(t.opt.money_name))]):t._e(),t.opt.mpweixin_allow_pay?i("v-uni-button",{staticClass:"button",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.applePay.apply(void 0,arguments)}}},[t._v("购买")]):t._e()],1)],1),i("v-uni-view",{staticClass:"credit-box"},[i("v-uni-view",[i("v-uni-view",{staticClass:"fs13 bold-light gray"},[t._v("积分")]),i("v-uni-view",[i("b2font",{attrs:{type:"b2coin-line",size:"24"}}),t._v(t._s(t.userData.credit))],1)],1),i("v-uni-view",[t.opt.mpweixin_allow_pay?i("v-uni-button",{staticClass:"button",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openCreditBuy.apply(void 0,arguments)}}},[t._v("兑换积分")]):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"gold-list b2mg"},[i("v-uni-view",{staticClass:"gold-title"},[i("v-uni-view",{class:["gold-title-item",{picked:0==t.type}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeList(0)}}},[t._v("积分记录")]),i("v-uni-view",{class:["gold-title-item",{picked:1==t.type}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeList(1)}}},[t._v(t._s(t.opt.money_name)+"记录")])],1),i("b2gold",{attrs:{data:t.data}}),i("b2bottom",{attrs:{loadmore:t.loadmore}})],1),i("uni-popup",{ref:"paybox",staticClass:"paybox",attrs:{type:"dialog"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onPopupChange.apply(void 0,arguments)}}},[t.popup_visible?i("uni-popup-dialog",{attrs:{mode:"input",title:"请输入充值金额",placeholder:"请输入充值金额",message:"成功",duration:2e3,"before-close":!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.eclose.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.econfirm.apply(void 0,arguments)}}}):t._e()],1),i("uni-popup",{ref:"cardpay",staticClass:"paybox",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"credit-buy-box"},[i("v-uni-view",{staticClass:"p-input mg-b"},[i("v-uni-input",{staticClass:"b2radius",attrs:{mode:"input",type:"text",placeholder:"请输入卡号"},model:{value:t.card.nub,callback:function(e){t.$set(t.card,"nub",e)},expression:"card.nub"}})],1),i("v-uni-view",{staticClass:"p-input mg-b"},[i("v-uni-input",{staticClass:"b2radius",attrs:{mode:"input",type:"text",placeholder:"请输入密码"},model:{value:t.card.pass,callback:function(e){t.$set(t.card,"pass",e)},expression:"card.pass"}})],1),i("v-uni-view",{staticClass:"p-url fs14 b2radius mg-b"},[i("v-uni-view",[i("v-uni-text",[t._v("请前往")]),i("uni-link",{attrs:{href:t.card.url,text:t.card.site}}),i("v-uni-text",[t._v("购买卡密")])],1),i("v-uni-view",[i("v-uni-text",[t._v("然后回到此处进行充值")])],1)],1),i("v-uni-view",{staticClass:"p-y b2radius mg-b fs13"},[t._v("您当前的"+t._s(t.opt.money_name)+"为"+t._s(t.symbol+t.userData.money))]),i("v-uni-view",{staticClass:"p-submit"},[i("v-uni-button",{attrs:{size:"mini",disabled:t.card.locked},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cardPay.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)],1),i("uni-popup",{ref:"buyCredit",attrs:{type:"center","mask-background-color":"rgba(0,0,0,0.8)"}},[i("v-uni-view",{staticClass:"credit-buy-box"},[i("v-uni-view",{staticClass:"p-title fs16 bold"},[i("v-uni-text",[t._v("积分兑换")])],1),i("v-uni-view",{staticClass:"p-desc fs13"},[t._v("请输入要兑换的金额")]),i("v-uni-view",{staticClass:"p-input"},[i("v-uni-input",{attrs:{type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.starBlur(t.payMoney)}},model:{value:t.payMoney,callback:function(e){t.payMoney=e},expression:"payMoney"}})],1),Object.keys(t.creditBuyData).length>0?i("v-uni-view",{staticClass:"t-tips fs13 gray"},[t._v(t._s(t.symbol+t.payMoney)+"可兑换"+t._s(t.b2mul(t.payMoney,t.creditBuyData.dh))+"积分，最低兑换额度："+t._s(t.symbol+t.creditBuyData.min))]):t._e(),Object.keys(t.creditBuyData).length>0?i("v-uni-view",[i("v-uni-button",{attrs:{size:"mini",disabled:t.payMoney<t.creditBuyData.min},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.go("/pages/global/pay?order_type=cg&order_price="+t.payMoney+"&title=购买"+t.b2mul(t.payMoney,t.creditBuyData.dh)+"积分")}}},[t._v("购买")])],1):t._e()],1)],1),i("uni-popup",{ref:"applepay",attrs:{type:"center","mask-background-color":"rgba(0,0,0,0.8)"}},[i("v-uni-view",{staticClass:"apple-buy-box applist"},[i("v-uni-view",{staticClass:"mg-b bold apple-buy-box-title"},[i("v-uni-text",{staticClass:"t-center"},[t._v(t._s("余额"==t.opt.money_name?"余额充值":"购买"+t.opt.money_name))])],1),t._l(t.productList,(function(e){return i("v-uni-view",{key:e.productid,staticClass:"item"},[i("v-uni-view",{staticClass:"title fs14"},[t._v(t._s("余额"==t.opt.money_name?"充值":"购买")+" "+t._s(e.title))]),i("v-uni-view",{staticClass:"price"},[t._v(t._s(e.price)+"元")]),"余额"!=t.opt.money_name?i("v-uni-view",{staticClass:"desc fs12 gray"},[t._v(t._s(e.description))]):t._e(),i("v-uni-button",{staticClass:"apple-button",attrs:{type:"warn",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.applepayaction(e)}}},[i("b2font",{attrs:{type:"b2apple-fill",size:"30"}}),t._v(t._s("余额"==t.opt.money_name?"充值":"购买"))],1)],1)}))],2)],1)],1)},o=[]},"0d75":function(t,e,i){var n=i("b1b0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2e10cc52",n,!0,{sourceMap:!1,shadowMode:!1})},1897:function(t,e,i){"use strict";var n=i("df97"),a=i.n(n);a.a},"26e7":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"}')},"3b5d":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a=n(i("c5b9")),o=i("37dc"),s=n(i("d014")),r=(0,o.initVueI18n)(s.default),u=r.t,l={name:"uniPopupDialog",mixins:[a.default],emits:["confirm","close"],props:{inputType:{type:String,default:"text"},value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:function(){return{dialogType:"error",focus:!1,val:""}},computed:{okText:function(){return this.confirmText||u("uni-popup.ok")},closeText:function(){return this.cancelText||u("uni-popup.cancel")},placeholderText:function(){return this.placeholder||u("uni-popup.placeholder")},titleText:function(){return this.title||u("uni-popup.title")}},watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog:function(){this.$emit("close"),this.beforeClose||this.popup.close()},close:function(){this.popup.close()}}};e.default=l},"3e14":function(t){t.exports=JSON.parse('{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}')},6139:function(t,e,i){"use strict";i.r(e);var n=i("9db3"),a=i("6afc");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("1897");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"56681c50",null,!1,n["a"],void 0);e["default"]=r.exports},"6afc":function(t,e,i){"use strict";i.r(e);var n=i("3b5d"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6f6a":function(t,e,i){"use strict";i.r(e);var n=i("befe"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"81a6":function(t,e,i){"use strict";i.r(e);var n=i("04a4"),a=i("6f6a");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("c0a4");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"29be1152",null,!1,n["a"],void 0);e["default"]=r.exports},9007:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}')},"9db3":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-popup-dialog"},[i("v-uni-view",{staticClass:"uni-dialog-title"},[i("v-uni-text",{staticClass:"uni-dialog-title-text",class:["uni-popup__"+t.dialogType]},[t._v(t._s(t.titleText))])],1),"base"===t.mode?i("v-uni-view",{staticClass:"uni-dialog-content"},[t._t("default",[i("v-uni-text",{staticClass:"uni-dialog-content-text"},[t._v(t._s(t.content))])])],2):i("v-uni-view",{staticClass:"uni-dialog-content"},[t._t("default",["checkbox"===t.inputType?i("v-uni-input",{staticClass:"uni-dialog-input",attrs:{placeholder:t.placeholderText,focus:t.focus,type:"checkbox"},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}}):"radio"===t.inputType?i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"uni-dialog-input",attrs:{placeholder:t.placeholderText,focus:t.focus,type:"radio"},domProps:{checked:t._q(t.val,null)},on:{change:function(e){t.val=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"uni-dialog-input",attrs:{placeholder:t.placeholderText,focus:t.focus,type:t.inputType},domProps:{value:t.val},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})])],2),i("v-uni-view",{staticClass:"uni-dialog-button-group"},[i("v-uni-view",{staticClass:"uni-dialog-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDialog.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-dialog-button-text"},[t._v(t._s(t.closeText))])],1),i("v-uni-view",{staticClass:"uni-dialog-button uni-border-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onOk.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-dialog-button-text uni-button-color"},[t._v(t._s(t.okText))])],1)],1)],1)},a=[]},b1b0:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.applist[data-v-29be1152]{background:#fff;width:%?640?%;padding:%?24?%;box-sizing:border-box;border-radius:%?24?%}.applist .t-center[data-v-29be1152]{width:100%;text-align:center}.applist .apple-buy-box-title[data-v-29be1152]{width:100%;text-align:center}.applist .item + .item[data-v-29be1152]{margin-top:%?24?%}.applist .item[data-v-29be1152]{padding:%?30?%;border:%?2?% solid #efefef;border-radius:%?24?%;background:#f5f6f7}.applist .item .title[data-v-29be1152]{margin-bottom:%?12?%;font-weight:700}.applist .item .price[data-v-29be1152]{margin-bottom:%?8?%;font-size:%?36?%;font-weight:700;color:green}.applist .item .desc[data-v-29be1152]{margin-bottom:%?24?%}.applist .item .apple-button[data-v-29be1152]{font-size:%?26?%;font-weight:700;width:100%;background:#333!important}.dhdesc[data-v-29be1152]{margin-bottom:%?10?%}.p-url[data-v-29be1152]{background:#f5f6f7;padding:%?20?%;box-sizing:border-box;width:100%;text-align:center}.gold-top[data-v-29be1152]{margin-top:%?24?%}.paybox .uni-popup-dialog[data-v-29be1152]{margin:%?100?% auto}.p-title[data-v-29be1152]{display:flex;justify-content:center;align-items:center;width:%?500?%}.p-input[data-v-29be1152]{border:1px solid #efefef;padding:%?16?%;width:100%;box-sizing:border-box}.p-desc[data-v-29be1152]{margin:%?48?% 0 %?32?%}.p-info[data-v-29be1152]{display:flex;justify-content:space-between;width:%?500?%;font-size:%?24?%;text-shadow:0 0 1px #fff;box-shadow:inset 0 0 10px #e0e0e0;padding:%?10?% %?20?%;margin-bottom:%?24?%}.t-tips[data-v-29be1152]{margin:%?24?% 0 %?48?%}.credit-buy-box[data-v-29be1152]{background-color:#fff;display:flex;align-items:center;flex-flow:column;justify-content:center;padding:%?48?% %?32?%;box-sizing:border-box;border-radius:%?20?%;margin:%?48?%;color:inherit;width:%?640?%}.gold-title-item.picked[data-v-29be1152]{position:relative;color:#1985ff}.gold-title-item.picked[data-v-29be1152]::after{content:"";width:3px;height:3px;border:2px solid #ccc;position:absolute;border-radius:100%;right:calc(50% - 3px);bottom:%?-24?%;border-color:#1985ff}.gold-title[data-v-29be1152]{display:flex;margin-left:%?24?%;margin-top:%?48?%;margin-bottom:%?48?%;font-size:%?30?%}.gold-title-item[data-v-29be1152]{margin-right:%?48?%}.money-box[data-v-29be1152], .credit-box[data-v-29be1152]{padding:%?24?% %?32?%;background-color:#f5f6f7;margin-bottom:%?24?%;display:flex;justify-content:space-between;align-items:center}.money-box .button[data-v-29be1152], .credit-box .button[data-v-29be1152]{font-size:%?28?%!important;height:30px;line-height:30px;display:block}.flex-center .button[data-v-29be1152]{margin-left:%?24?%}',""]),t.exports=e},b992:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-popup-dialog[data-v-56681c50]{width:300px;border-radius:11px;background-color:#fff}.uni-dialog-title[data-v-56681c50]{display:flex;flex-direction:row;justify-content:center;padding-top:25px}.uni-dialog-title-text[data-v-56681c50]{font-size:16px;font-weight:500}.uni-dialog-content[data-v-56681c50]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:20px}.uni-dialog-content-text[data-v-56681c50]{font-size:14px;color:#6c6c6c}.uni-dialog-button-group[data-v-56681c50]{display:flex;flex-direction:row;border-top-color:#f5f5f5;border-top-style:solid;border-top-width:1px}.uni-dialog-button[data-v-56681c50]{display:flex;flex:1;flex-direction:row;justify-content:center;align-items:center;height:45px}.uni-border-left[data-v-56681c50]{border-left-color:#f0f0f0;border-left-style:solid;border-left-width:1px}.uni-dialog-button-text[data-v-56681c50]{font-size:16px;color:#333}.uni-button-color[data-v-56681c50]{color:#007aff}.uni-dialog-input[data-v-56681c50]{flex:1;font-size:14px;border:1px #eee solid;height:40px;padding:0 10px;border-radius:5px;color:#555}.uni-popup__success[data-v-56681c50]{color:#4cd964}.uni-popup__warn[data-v-56681c50]{color:#f0ad4e}.uni-popup__error[data-v-56681c50]{color:#dd524d}.uni-popup__info[data-v-56681c50]{color:#909399}',""]),t.exports=e},befe:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e9c4"),i("ac1f"),i("466d"),i("b64b"),i("e25e"),i("99af");var n={data:function(){return{data:"",paged:1,type:0,loadmore:"waiting",loadLocked:!1,popup_visible:!1,creditBuyData:"",payMoney:1,card:{nub:"",pass:"",url:"",site:"",locked:!1},iap:null,productList:[]}},computed:{userData:function(){return this.$store.state.userData},symbol:function(){return this.$store.state.opt.symbol},opt:function(){return this.$store.state.opt},platform:function(){return this.$store.state.platform},appleIds:function(){return this.$store.state.appleIds}},onShow:function(){this.$store.state.reflash&&(this.paged=1,this.$refs.buyCredit&&this.$refs.buyCredit.close(),this.getList()),uni.setStorageSync("historyUrl",this.currentUrl())},onReachBottom:function(){this.getList()},onPullDownRefresh:function(){this.paged=1,this.getList()},onLoad:function(t){t.type&&(this.type="credit"==t.type?0:1),this.getList(),this.checkPayType()},methods:{applepayaction:function(e){var i=this;plus.nativeUI.showWaiting("",{style:"black",background:"rgba(0,0,0,0)"}),plus.payment.request(this.iap,{productid:e.productid,optimize:!0},(function(e){plus.nativeUI.closeWaiting(),t.log("plus.payment.request-success--------------------",JSON.stringify(results))}),(function(e){plus.nativeUI.closeWaiting(),t.log(e),i.restoreComplateRequest()}))},restoreComplateRequest:function(){this.iap.restoreComplateRequest({},(function(e){t.log("restoreComplateRequest-results---",JSON.stringify(e))}),(function(e){t.log("restoreComplateRequest-results ---fail---",JSON.stringify(e))}))},applePay:function(){this.openPay()},requestOrder:function(){var t=this;this.iap.requestOrder(this.appleIds,(function(e){plus.nativeUI.closeWaiting(),t.productList=e,t.$refs.applepay.open()}),(function(t){plus.nativeUI.closeWaiting(),plus.nativeUI.alert("获取应用内购项目失败，请稍后重试。",(function(){}),"提示")}))},cardPay:function(){var t=this;uni.showLoading({title:"充值中..."}),1!=this.card.locked&&(this.card.locked=!0,uni.request({method:"post",url:this.$store.state.restUrlNormal+"cardPay",header:this.$store.state.headerToken,data:{number:this.card.nub,password:this.card.pass},success:function(e){403==e.statusCode?(uni.hideLoading(),uni.showModal({content:e.data.message,showCancel:!1}),t.card.locked=!1):(uni.showModal({content:"充值成功！",showCancel:!1,success:function(e){e.confirm&&(t.$refs.cardpay.close(),t.paged=1,t.getList())}}),t.card.locked=!1,t.getCurrentUserInfo(),uni.hideLoading())}}))},checkPayType:function(){var e=this;uni.request({method:"post",url:this.$store.state.restUrlNormal+"checkPayType",header:this.$store.state.headerToken,data:{pay_type:"card"},success:function(i){var n=i.data.card_text.match(/<a href="([\s\S]*?)"([\s\S]*?)>([\s\S]*?)<\/a>/);n.length>3&&(e.card.url=n[1],e.card.site=n[3]),t.log(e.card)}})},cardOpen:function(){this.$refs.cardpay.open()},starBlur:function(){this.payMoney<this.creditBuyData.min&&(this.payMoney=this.creditBuyData.min)},openCreditBuy:function(){var t=this;this.opt.mpweixin_allow_pay?(this.$refs.buyCredit.open("top"),Object.keys(this.creditBuyData).length>0||uni.request({method:"post",url:this.$store.state.restUrlNormal+"allowPayType",header:this.$store.state.headerToken,data:{show_type:"cg"},success:function(e){t.creditBuyData=e.data,t.payMoney=e.data.min}})):uni.showModal({title:"抱歉",content:"规范原因，IOS此功能暂不可用",showCancel:!1})},eclose:function(){this.$refs.paybox.close()},openPay:function(){this.opt.mpweixin_allow_pay?(this.$refs.paybox.open("top"),this.$refs.buyCredit.close()):uni.showModal({title:"抱歉",content:"规范原因，IOS此功能暂不可用",showCancel:!1})},onPopupChange:function(t){var e=this;t&&this.$nextTick((function(){setTimeout((function(){e.popup_visible=t.show}),50)}))},econfirm:function(t){this.opt.mpweixin_allow_pay?(t=parseInt(t),"number"==typeof t?t&&0!=t?(this.go("/pages/global/pay?order_type=cz&order_price="+t+"&title="+this.opt.money_name+"充值"+(this.symbol+t)),this.$refs.paybox.close()):uni.showModal({content:"请输入金额",showCancel:!1}):uni.showModal({content:"请输入数字",showCancel:!1})):uni.showModal({title:"抱歉",content:"规范原因，IOS此功能暂不可用",showCancel:!1})},changeList:function(t){this.type=t,this.paged=1,this.loadLocked=!1,this.getList()},getList:function(){var t=this;this.loadLocked||(this.paged>1&&(this.loadmore=!0),uni.request({method:"post",url:this.$store.state.restUrlNormal+"getGoldList",header:this.$store.state.headerToken,data:{gold_type:this.type,paged:this.paged,count:20,read_clean:1},success:function(e){if(1==t.paged){if(!(e.data.data.length>0))return t.data=[],void uni.stopPullDownRefresh();t.data=e.data.data}else e.data.data.length>0?t.data=t.data.concat(e.data.data):(t.loadmore=!1,t.loadLocked=!0);t.$store.state.reflash=!1,t.paged++,uni.stopPullDownRefresh()}}))}}};e.default=n}).call(this,i("5a52")["default"])},c0a4:function(t,e,i){"use strict";var n=i("0d75"),a=i.n(n);a.a},c5b9:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},created:function(){this.popup=this.getParent()},methods:{getParent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniPopup",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=n},d014:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("26e7")),o=n(i("9007")),s=n(i("3e14")),r={en:a.default,"zh-Hans":o.default,"zh-Hant":s.default};e.default=r},df97:function(t,e,i){var n=i("b992");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("79f5c31e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);